import{r as c,j as e,a as d,N as g,O as k,u as E,L as P,P as f,Q as L,b as C,c as S,d as R,e as O,C as A,f as M,R as T,g as _,h as B}from"./vendor-93cd6786.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function o(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(t){if(t.ep)return;t.ep=!0;const r=o(t);fetch(t.href,r)}})();const $="modulepreload",q=function(s){return"/"+s},x={},F=function(n,o,a){if(!o||o.length===0)return n();const t=document.getElementsByTagName("link");return Promise.all(o.map(r=>{if(r=q(r),r in x)return;x[r]=!0;const l=r.endsWith(".css"),N=l?'[rel="stylesheet"]':"";if(!!a)for(let u=t.length-1;u>=0;u--){const m=t[u];if(m.href===r&&(!l||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${r}"]${N}`))return;const i=document.createElement("link");if(i.rel=l?"stylesheet":$,l||(i.as="script",i.crossOrigin=""),i.href=r,document.head.appendChild(i),l)return new Promise((u,m)=>{i.addEventListener("load",u),i.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>n()).catch(r=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=r,window.dispatchEvent(l),!l.defaultPrevented)throw r})},z="/assets/pexels-splitshire-1539-2afe6b48.jpg",p=["Africa","Asia","Europe","North America"];function I(){const[s,n]=c.useState(!1),o=()=>n(!s);return e.jsx("section",{className:"bg-white dark:bg-gray-900",children:e.jsxs("div",{className:"grid max-w-screen-xl px-4 py-8 mx-auto lg:gap-8 xl:gap-0 lg:py-16 lg:grid-cols-12",children:[e.jsxs("div",{className:"mr-auto place-self-center lg:col-span-7",children:[e.jsx("h2",{className:"max-w-2xl mb-4 text-3xl font-bold tracking-tight leading-none md:text-4xl xl:text-5xl dark:text-white",children:"AudioAura Streams"}),e.jsx("p",{className:"max-w-2xl mb-6 font-light text-gray-500 lg:mb-8 md:text-lg lg:text-xl dark:text-gray-400",children:"Your Gateway to Global Grooves. Listen to your favourite Radio Station anywhere you are at."}),e.jsx(d.Button,{variant:"filled",size:"sm",color:"indigo",className:"hover:bg-indigo-800",onClick:o,children:"Start Streaming"}),s&&e.jsx("div",{className:"mt-4 bg-white dark:bg-gray-800 shadow-lg rounded-lg p-4 absolute w-full lg:w-1/4 transform -translate-x-1/2 lg:translate-x-0 left-1/2 lg:left-auto",children:p.map(a=>e.jsx(g,{to:`${a.replace(/\s+/g,"-")}`,className:"block px-4 py-2 text-sm text-indigo-700 hover:bg-indigo-500 hover:text-white rounded-md transition-colors duration-150",children:a},a))})]}),e.jsx("div",{className:"hidden lg:mt-0 lg:col-span-5 lg:flex",children:e.jsx("img",{src:z,alt:"radio image",className:"rounded-xl"})})]})})}function Q(){return e.jsxs(e.Fragment,{children:[console.log("HomePage rendering"),e.jsx(I,{})]})}const H=()=>{const[s,n]=c.useState(!1);c.useEffect(()=>{window.addEventListener("resize",()=>window.innerWidth>=960&&n(!1))});const o=()=>{n(!1)},a=r=>`flex items-center p-1 font-normal text-sm rounded-md transition duration-150 ease-in-out 
    ${r?"bg-gradient-to-r from-indigo-500 to-indigo-700 text-white shadow-md":"text-gray-600 hover:bg-gray-100"}
    hover:from-indigo-500 hover:to-indigo-700 hover:gray-700`,t=e.jsx("ul",{className:"mt-2 mb-4 flex flex-col gap-2 lg:mb-0 lg:mt-0 lg:flex-row lg:items-center lg:gap-2",children:p.map(r=>e.jsx("li",{className:"text-sm text-blue-gray-600 p-1 font-normal",children:e.jsx(g,{to:`${r.replace(/\s+/g,"-")}`,onClick:o,className:({isActive:l})=>a(l),children:r})},r))});return e.jsxs(d.Navbar,{className:"-m-1 sticky  top-0 z-10 h-max max-w-full rounded-none px-4 py-2 lg:px-8 lg:py-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-blue-gray-900",children:[e.jsx(g,{to:"/",className:"mr-4 py-1.5 font-medium",children:"AudioAura Streams"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"mr-4 hidden lg:block",children:t}),e.jsx(d.IconButton,{variant:"text",className:"ml-auto h-6 w-6 text-inherit hover:bg-transparent focus:bg-transparent active:bg-transparent lg:hidden",ripple:!1,onClick:()=>n(!s),children:s?e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",className:"h-6 w-6",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}):e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})})})]})]}),e.jsx(d.Collapse,{open:s,children:t})]})};function W(){return e.jsx("footer",{className:"w-full fixed inset-x-0 bottom-0 bg-white p-6 border-t border-blue-gray-50",children:e.jsxs(d.Typography,{color:"blue-gray",className:"text-center font-normal",children:["Â© 2024"," ",e.jsx("a",{href:"https://github.com/eric-muganga",target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:"Eric Muganga"})," ","| All rights reserved"]})})}function G(){return e.jsxs("div",{className:"flex flex-col min-h-[100vh]",children:[console.log("RootPage rendering"),e.jsx(H,{}),e.jsxs("main",{children:[console.log("Before outlet"),e.jsx(k,{}),console.log("After outlet")]}),e.jsx(W,{})]})}const K=()=>{const s=E();return e.jsxs("div",{className:"h-screen flex flex-col items-center justify-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-red-500",children:"Oops!"}),e.jsx("p",{className:"text-lg mt-4",children:"Sorry, an unexpected error has occurred."}),e.jsx("p",{className:"text-lg mt-4",children:e.jsx("i",{children:s.statusText||s.message})}),e.jsxs("p",{className:"mt-2",children:["You can always go back to the"," ",e.jsx(P,{to:"/",className:"text-blue-600 hover:underline",children:"Homepage"}),"."]})]})},h="/assets/headphones-992b88c4.jpg";function j({station:s}){const[n,o]=c.useState(!0),[a,t]=c.useState(!1);return e.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden m-2 sm:m-4 lg:m-6 pb-4",children:[e.jsx("img",{src:s.favicon||h,alt:`Logo of ${s.name}`,className:"w-24 h-24 md:w-32 md:h-32 object-cover mx-auto p-2",onError:r=>r.target.src=h}),e.jsxs("div",{className:"p-4 flex flex-col h-full",children:[e.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900",children:s.name}),e.jsxs("p",{className:"text-sm md:text-base text-gray-700",children:["Country: ",s.country]}),e.jsxs("div",{children:[n&&e.jsx("div",{children:"Loading audio..."}),a&&e.jsx("div",{children:"Error loading audio. Try again later."}),e.jsx("audio",{controls:!0,src:s.url,preload:"auto",className:"mt-2 w-full",onCanPlayThrough:()=>o(!1),onError:()=>{o(!1),t(!0)},children:"Your browser does not support the audio element."})]})]})]})}j.propTypes={station:f.object.isRequired};function y({stations:s}){return e.jsx("div",{className:"container mx-auto grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:s.map(n=>e.jsx(j,{station:n},n.uuid))})}y.propTypes={stations:f.array.isRequired};const v=new L,w=async s=>{const n=`http://ec2-51-20-82-37.eu-north-1.compute.amazonaws.com:443/stations/${s}`;try{return(await C.get(n)).data.map(t=>({uuid:t.stationuuid,name:t.name,url:t.url,favicon:t.favicon,tags:t.tags,country:t.country,continent:s}))}catch(o){return console.error("Error fetching stations from backend: ",o),[]}};function U(){const n=S().continent.replace(/-/g,""),{data:o,isError:a,error:t}=R({queryKey:["stations",n],queryFn:async()=>await w(n),staleTime:2*60*1e3});return a?e.jsxs("div",{children:["An error occurred: ",t.message]}):e.jsxs(e.Fragment,{children:[console.log("ContinentPage rendering"),e.jsx(y,{stations:o}),";"]})}async function b({params:s}){const n=s.continent.replace(/-/g,"");return console.log("Loader function for",n),v.fetchQuery({queryKey:["stations",n],queryFn:async()=>await w(n)})}const Y=Object.freeze(Object.defineProperty({__proto__:null,default:U,loader:b},Symbol.toStringTag,{value:"Module"})),D=c.lazy(()=>F(()=>Promise.resolve().then(()=>Y),void 0)),V=O([{path:"/",element:e.jsx(G,{}),errorElement:e.jsx(K,{}),children:[{index:!0,element:e.jsx(Q,{})},{path:":continent",element:e.jsx(c.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(A,{})}),children:e.jsx(D,{})}),loader:b}]}]);function J(){return e.jsx(e.Fragment,{children:e.jsx(M,{client:v,children:e.jsx(T,{router:V})})})}_.createRoot(document.getElementById("root")).render(e.jsx(B.StrictMode,{children:e.jsx(d.ThemeProvider,{children:e.jsx(J,{})})}));
