import{r as d,j as e,a as u,N as g,O as S,L as k,P as f,Q as C,b as L,u as A,c as R,d as O,C as T,e as _,R as q,f as M,g as B}from"./vendor-DoECdl5o.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const t of r)if(t.type==="childList")for(const o of t.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function i(r){const t={};return r.integrity&&(t.integrity=r.integrity),r.referrerPolicy&&(t.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?t.credentials="include":r.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function a(r){if(r.ep)return;r.ep=!0;const t=i(r);fetch(r.href,t)}})();const F="modulepreload",$=function(s){return"/"+s},h={},I=function(n,i,a){let r=Promise.resolve();if(i&&i.length>0){document.getElementsByTagName("link");const t=document.querySelector("meta[property=csp-nonce]"),o=(t==null?void 0:t.nonce)||(t==null?void 0:t.getAttribute("nonce"));r=Promise.all(i.map(l=>{if(l=$(l),l in h)return;h[l]=!0;const m=l.endsWith(".css"),N=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${N}`))return;const c=document.createElement("link");if(c.rel=m?"stylesheet":F,m||(c.as="script",c.crossOrigin=""),c.href=l,o&&c.setAttribute("nonce",o),document.head.appendChild(c),m)return new Promise((P,E)=>{c.addEventListener("load",P),c.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${l}`)))})}))}return r.then(()=>n()).catch(t=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=t,window.dispatchEvent(o),!o.defaultPrevented)throw t})},z="/assets/pexels-splitshire-1539-BxiTSkXF.jpg",G={Europe:["Germany","Poland","The United Kingdom Of Great Britain And Northern Ireland"],Africa:["Uganda","Rwanda","Kenya","Nigeria","Tanzania"],NorthAmerica:["The United States Of America"],Asia:["India"]},p=["Africa","Asia","Europe","North America"];function U(){const[s,n]=d.useState(!1),i=()=>n(!s);return e.jsx("section",{className:"bg-white dark:bg-gray-900",children:e.jsxs("div",{className:"grid max-w-screen-xl px-4 py-8 mx-auto lg:gap-8 xl:gap-0 lg:py-16 lg:grid-cols-12",children:[e.jsxs("div",{className:"mr-auto place-self-center lg:col-span-7",children:[e.jsx("h2",{className:"max-w-2xl mb-4 text-3xl font-bold tracking-tight leading-none md:text-4xl xl:text-5xl dark:text-white",children:"AudioAura Streams"}),e.jsx("p",{className:"max-w-2xl mb-6 font-light text-gray-500 lg:mb-8 md:text-lg lg:text-xl dark:text-gray-400",children:"Your Gateway to Global Grooves. Listen to your favourite Radio Station anywhere you are at."}),e.jsx(u.Button,{variant:"filled",size:"sm",color:"indigo",className:"hover:bg-indigo-800",onClick:i,children:"Start Streaming"}),s&&e.jsx("div",{className:"mt-4 bg-white dark:bg-gray-800 shadow-lg rounded-lg p-4 absolute w-full lg:w-1/4 transform -translate-x-1/2 lg:translate-x-0 left-1/2 lg:left-auto",children:p.map(a=>e.jsx(g,{to:`${a.replace(/\s+/g,"-")}`,className:"block px-4 py-2 text-sm text-indigo-700 hover:bg-indigo-500 hover:text-white rounded-md transition-colors duration-150",children:a},a))})]}),e.jsx("div",{className:"hidden lg:mt-0 lg:col-span-5 lg:flex",children:e.jsx("img",{src:z,alt:"radio image",className:"rounded-xl"})})]})})}function K(){return e.jsxs(e.Fragment,{children:[console.log("HomePage rendering"),e.jsx(U,{})]})}const Q=()=>{const[s,n]=d.useState(!1);d.useEffect(()=>{window.addEventListener("resize",()=>window.innerWidth>=960&&n(!1))});const i=()=>{n(!1)},a=t=>`flex items-center p-1 font-normal text-sm rounded-md transition duration-150 ease-in-out 
    ${t?"bg-gradient-to-r from-indigo-500 to-indigo-700 text-white shadow-md":"text-gray-600 hover:bg-gray-100"}
    hover:from-indigo-500 hover:to-indigo-700 hover:gray-700`,r=e.jsx("ul",{className:"mt-2 mb-4 flex flex-col gap-2 lg:mb-0 lg:mt-0 lg:flex-row lg:items-center lg:gap-2",children:p.map(t=>e.jsx("li",{className:"text-sm text-blue-gray-600 p-1 font-normal",children:e.jsx(g,{to:`${t.replace(/\s+/g,"-")}`,onClick:i,className:({isActive:o})=>a(o),children:t})},t))});return e.jsxs(u.Navbar,{className:"-m-1 sticky  top-0 z-10 h-max max-w-full rounded-none px-4 py-2 lg:px-8 lg:py-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-blue-gray-900",children:[e.jsx(g,{to:"/",className:"mr-4 py-1.5 font-medium",children:"AudioAura Streams"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"mr-4 hidden lg:block",children:r}),e.jsx(u.IconButton,{variant:"text",className:"ml-auto h-6 w-6 text-inherit hover:bg-transparent focus:bg-transparent active:bg-transparent lg:hidden",ripple:!1,onClick:()=>n(!s),children:s?e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",className:"h-6 w-6",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}):e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})})})]})]}),e.jsx(u.Collapse,{open:s,children:r})]})};function Y(){return e.jsx("footer",{className:"w-full inset-x-0 bottom-0 bg-white p-6 border-t border-blue-gray-50",children:e.jsxs(u.Typography,{color:"blue-gray",className:"text-center font-normal",children:["Â© 2024"," ",e.jsx("a",{href:"https://github.com/eric-muganga",target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:"Eric Muganga"})," ","| All rights reserved"]})})}function H(){return e.jsxs("div",{className:"flex flex-col min-h-[100vh]",children:[console.log("RootPage rendering"),e.jsx(Q,{}),e.jsx("main",{children:e.jsx(S,{})}),e.jsx(Y,{})]})}const W=()=>e.jsxs("div",{className:"h-screen flex flex-col items-center justify-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-red-500",children:"404 - Page Not Found"}),e.jsx("p",{className:"text-lg mt-4",children:"Sorry, the page you are looking for does not exist."}),e.jsxs("p",{className:"mt-2",children:["You can always go back to the"," ",e.jsx(k,{to:"/",className:"text-blue-600 hover:underline",children:"Homepage"}),"."]})]}),x="/assets/headphones-DlmGtYEY.jpg";function y({station:s}){const[n,i]=d.useState(!0),[a,r]=d.useState(!1);return e.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden m-2 sm:m-4 lg:m-6 pb-4",children:[e.jsx("img",{src:s.favicon||x,alt:`Logo of ${s.name}`,className:"w-24 h-24 md:w-32 md:h-32 object-cover mx-auto p-2",onError:t=>t.target.src=x}),e.jsxs("div",{className:"p-4 flex flex-col h-full",children:[e.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900",children:s.name}),e.jsxs("p",{className:"text-sm md:text-base text-gray-700",children:["Country: ",s.country]}),e.jsxs("div",{children:[n&&e.jsx("div",{children:"Loading audio..."}),a&&e.jsx("div",{children:"Error loading audio. Try again later."}),e.jsx("audio",{controls:!0,src:s.url,preload:"auto",className:"mt-2 w-full",onCanPlayThrough:()=>i(!1),onError:()=>{i(!1),r(!0)},children:"Your browser does not support the audio element."})]})]})]})}y.propTypes={station:f.object.isRequired};function j({stations:s}){return e.jsx("div",{className:"container mx-auto grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:s.map(n=>e.jsx(y,{station:n},n.uuid))})}j.propTypes={stations:f.array.isRequired};const v=new C,w=async s=>{const i=G[s].map(a=>L.get(`https://de1.api.radio-browser.info/json/stations/bycountry/${a}?order=votes&reverse=true&limit=5`));try{return(await Promise.all(i)).flatMap(t=>t.data.map(o=>({uuid:o.stationuuid,name:o.name,url:o.url,favicon:o.favicon,tags:o.tags,country:o.country,continent:s})))}catch(a){return console.error("Error fetching stations: ",a),[]}};function D(){const n=A().continent.replace(/-/g,""),{data:i,isError:a,error:r}=R({queryKey:["stations",n],queryFn:async()=>await w(n),staleTime:2*60*1e3});return a?e.jsxs("div",{children:["An error occurred: ",r.message]}):e.jsxs(e.Fragment,{children:[e.jsx(j,{stations:i}),";"]})}async function b({params:s}){const n=s.continent.replace(/-/g,"");return v.fetchQuery({queryKey:["stations",n],queryFn:async()=>await w(n)})}const V=Object.freeze(Object.defineProperty({__proto__:null,default:D,loader:b},Symbol.toStringTag,{value:"Module"})),X=d.lazy(()=>I(()=>Promise.resolve().then(()=>V),void 0)),J=O([{path:"/",element:e.jsx(H,{}),errorElement:e.jsx(W,{}),children:[{index:!0,element:e.jsx(K,{})},{path:":continent",element:e.jsx(d.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(T,{})}),children:e.jsx(X,{})}),loader:b}]}]);function Z(){return e.jsx(e.Fragment,{children:e.jsx(_,{client:v,children:e.jsx(q,{router:J})})})}M.createRoot(document.getElementById("root")).render(e.jsx(B.StrictMode,{children:e.jsx(u.ThemeProvider,{children:e.jsx(Z,{})})}));
